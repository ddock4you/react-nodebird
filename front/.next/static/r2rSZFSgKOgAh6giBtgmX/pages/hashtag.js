(window.webpackJsonp=window.webpackJsonp||[]).push([["static\\r2rSZFSgKOgAh6giBtgmX\\pages\\hashtag.js"],{davr:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_corejs2_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs2/regenerator */ "ln6h");\n/* harmony import */ var _babel_runtime_corejs2_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs2_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "q1tI");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "/MKj");\n/* harmony import */ var _reducers_post__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../reducers/post */ "p+NB");\n/* harmony import */ var _containers_PostCard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../containers/PostCard */ "uor+");\n\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement;\n\n\n\n\n\nvar Hashtag = function Hashtag(_ref) {\n  var tag = _ref.tag;\n  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useDispatch"])();\n\n  var _useSelector = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useSelector"])(function (state) {\n    return state.post;\n  }),\n      mainPosts = _useSelector.mainPosts,\n      hasMorePost = _useSelector.hasMorePost;\n\n  console.log(mainPosts);\n  var onScroll = Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(function () {\n    if (window.scrollY + document.documentElement.clientHeight > document.documentElement.scrollHeight - 300) {\n      if (hasMorePost) {\n        dispatch({\n          type: _reducers_post__WEBPACK_IMPORTED_MODULE_3__["LOAD_HASHTAG_POSTS_REQUEST"],\n          lastId: mainPosts[mainPosts.length - 1].id,\n          data: tag\n        });\n      }\n    }\n  }, [hasMorePost, mainPosts.length]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {\n    window.addEventListener("scroll", onScroll);\n    return function () {\n      window.removeEventListener("scroll", onScroll);\n    };\n  }, [mainPosts.length]);\n  return __jsx("div", null, mainPosts.map(function (c) {\n    return __jsx(_containers_PostCard__WEBPACK_IMPORTED_MODULE_4__["default"], {\n      key: c.id,\n      post: c\n    });\n  }));\n};\n\nHashtag.getInitialProps = function _callee(context) {\n  var tag;\n  return _babel_runtime_corejs2_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          tag = context.query.tag;\n          console.log("hashtag getInitialProps", tag);\n          context.store.dispatch({\n            type: _reducers_post__WEBPACK_IMPORTED_MODULE_3__["LOAD_HASHTAG_POSTS_REQUEST"],\n            data: tag\n          });\n          return _context.abrupt("return", {\n            tag: tag\n          });\n\n        case 4:\n        case "end":\n          return _context.stop();\n      }\n    }\n  });\n};\n\n/* harmony default export */ __webpack_exports__["default"] = (Hashtag);\n\n//# sourceURL=webpack:///./pages/hashtag.js?')},qDX8:function(module,exports,__webpack_require__){eval('\n    (window.__NEXT_P=window.__NEXT_P||[]).push(["/hashtag", function() {\n      var mod = __webpack_require__(/*! private-next-pages/hashtag.js */ "davr")\n      if(false) {}\n      return mod\n    }]);\n  \n\n//# sourceURL=webpack:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?')}},[["qDX8","static/runtime/webpack.js","framework","aec7d165","commons","92e9d834d4e2803ad400ac329dbb3a217999426a","38993b654796d8ab6a2076055a82d6da4739f1ba","71a112ce4086df6c75fe393c55142c1df35991c9","b136f7b6f4816925c93c718804ff2f73c603bd3b","e690bd6b39befd74028d8aefc99de3cd804837c0","b80a0a4b359f345aed754be0aca54ef394f4356b"]]]);